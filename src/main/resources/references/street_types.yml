# rules - правила для сопоставления типа улицы osm тега addr:street
# patterns - соответствия адреса из ЕГРН данному типу
#
# Свердловская область, г. Екатеринбург, ул. Белинского, 165б/ пер. Переходный, 5
types:
  - name: улица
    osm:
      patterns:
        - '^(?:улица\S*\s+)?(?<street>.+?)(?:\s+улица\S*)?$' # улица Пушкина, Солнечная улица
    egrn:
      patterns:
        - '((?<streetNumber>\d{1,2}(\s|-)(й|ий|ый|ой|я|ая|ья|е|ое|ье)\s)?(?:(ул(?:\.|\s))|улица)\s*)(?:им\.?\s)?(?<street>[0-9A-Я"]+[а-яA-Я0-9-"\.]*(?:\s(?:[а-яA-Я0-9-"\.])+)*)' # обл. Свердловская, г. Екатеринбург, ул. Ленина, дом 1
        - '((?<streetNumber>\d{1,2}(\s|-)(й|ий|ый|ой|я|ая|ья|е|ое|ье)\s)?(?<street>[0-9A-Я"]+[а-яA-Я0-9-"\.]*(?:\s(?:[а-яA-Я0-9-"\.])+)*)(\s{1,2})(?:(ул(?:\.|\s|,))|улица)\s*)'
  - name: переулок
    osm:
      patterns:
        - '^(?:переулок\s?)?(?<street>.+?)(?:\s?переулок)?$' # переулок Трактористов, Переходный переулок
    egrn:
      patterns:
        - '((?<streetNumber>\d{1,2}(\s|-)(й|ий|ый|ой|я|ая|ья|е|ое|ье)\s)?(?:(пер(?:\.|\s))|переулок)\s*)(?:им\.?\s)?(?<street>[0-9A-Я"]+[а-яA-Я0-9-"\.]*(?:\s(?:[а-яA-Я0-9-"\.])+)*)' # Свердловская обл., г. Екатеринбург, пер. Переходный, 7
        - '((?<streetNumber>\d{1,2}(\s|-)(й|ий|ый|ой|я|ая|ья|е|ое|ье)\s)?(?<street>[0-9A-Я"]+[а-яA-Я0-9-"\.]*(?:\s(?:[а-яA-Я0-9-"\.])+)*)(\s{1,2})(?:(пер(?:\.|\s|,))|переулок)\s*)' #"Калужская обл., р-н Думиничский, п. Думиничи, 1-й Ленинский пер., д. 21"
  - name: проспект
    osm:
      patterns:
        - '^(?:проспект\s?)?(?<street>.+?)(?:\s?проспект)?$' # проспект Трактористов, Переходный проспект
    egrn:
      patterns:
        - '((?<streetNumber>\d{1,2}(\s|-)(й|ий|ый|ой|я|ая|ья|е|ое|ье)\s)?(?:(просп(?:\.|\s))|проспект|пр-т|пр-кт)\s*)(?:им\.?\s)?(?<street>[0-9A-Я"]+[а-яA-Я0-9-"\.]*(?:\s(?:[а-яA-Я0-9-"\.])+)*)' # Свердловская обл., г. Екатеринбург, пер. Переходный, 7
        - '((?<streetNumber>\d{1,2}(\s|-)(й|ий|ый|ой|я|ая|ья|е|ое|ье)\s)?(?<street>[0-9A-Я"]+[а-яA-Я0-9-"\.]*(?:\s(?:[а-яA-Я0-9-"\.])+)*)(\s{1,2})(?:(просп(?:\.|\s|,))|проспект|пр-т(?:\.|\s|,)|пр-кт(?:\.|\s|,))\s*)' #"Калужская обл., р-н Думиничский, п. Думиничи, 1-й Ленинский пер., д. 21"
#  - name: тупик
#    rules:
#      - '/тупик/i'
  - name: шоссе
    osm:
      patterns:
        - '^(?:шоссе\s?)?(?<street>.+?)(?:\s?шоссе)?$'
    egrn:
      patterns:
        - '((?<streetNumber>\d{1,2}(\s|-)(й|ий|ый|ой|я|ая|ья|е|ое|ье)\s)?(?:(ш(?:\.|\s))|шоссе)\s*)(?:им\.?\s)?(?<street>[0-9A-Я"]+[а-яA-Я0-9-"\.]*(?:\s(?:[а-яA-Я0-9-"\.])+)*)' # Свердловская обл., г. Екатеринбург, пер. Переходный, 7
        - '((?<streetNumber>\d{1,2}(\s|-)(й|ий|ый|ой|я|ая|ья|е|ое|ье)\s)?(?<street>[0-9A-Я"]+[а-яA-Я0-9-"\.]*(?:\s(?:[а-яA-Я0-9-"\.])+)*)(\s{1,2})(?:(ш(?:\.|\s|,))|шоссе)\s*)' #"Калужская обл., р-н Думиничский, п. Думиничи, 1-й Ленинский пер., д. 21"
#  - name: бульвар
#    rules:
#      - '/бульвар/i'
#  - name: площадь
#    rules:
#      - '/площадь/i'
#  - name: набережная
#    rules:
#      - '/набережная/i'
  - name: проезд
    osm:
      patterns:
        - '^(?:пр\S*\s+)?(?<street>.+?)(?:\s+пр\S*)?$' # проезд Пушкина, Солнечный проезд
    egrn:
      patterns:
        - '((?<streetNumber>\d{1,2}(\s|-)(й|ий|ый|ой|я|ая|ья|е|ое|ье)\s)?(?:(пр(?:\.|\s))|проезд|пр-д)\s*)(?:им\.?\s)?(?<street>[0-9A-Я"]+[а-яA-Я0-9-"\.]*(?:\s(?:[а-яA-Я0-9-"\.])+)*)' # Свердловская обл., г. Екатеринбург, пер. Переходный, 7
        - '((?<streetNumber>\d{1,2}(\s|-)(й|ий|ый|ой|я|ая|ья|е|ое|ье)\s)?(?<street>[0-9A-Я"]+[а-яA-Я0-9-"\.]*(?:\s(?:[а-яA-Я0-9-"\.])+)*)(\s{1,2})(?:(пр(?:\.|\s|,))|проезд|пр-д(?:\.|\s|,))\s*)' #"Калужская обл., р-н Думиничский, п. Думиничи, 1-й Ленинский пер., д. 21"
#  - name: аллея
#    rules:
#      - '/аллея/i'
  - name: площадь
    osm:
      patterns:
        - '^(?:площадь\s?)?(?<street>.+?)(?:\s?площадь)?$'
    egrn:
      patterns:
        - '((?<streetNumber>\d{1,2}(\s|-)(й|ий|ый|ой|я|ая|ья|е|ое|ье)\s)?(?:(пл(?:\.|\s))|площадь)\s*)(?:им\.?\s)?(?<street>[0-9A-Я"]+[а-яA-Я0-9-"\.]*(?:\s(?:[а-яA-Я0-9-"\.])+)*)' # Свердловская обл., г. Екатеринбург, пер. Переходный, 7
        - '((?<streetNumber>\d{1,2}(\s|-)(й|ий|ый|ой|я|ая|ья|е|ое|ье)\s)?(?<street>[0-9A-Я"]+[а-яA-Я0-9-"\.]*(?:\s(?:[а-яA-Я0-9-"\.])+)*)(\s{1,2})(?:(пл(?:\.|\s|,))|площадь)\s*)' #"Калужская обл., р-н Думиничский, п. Думиничи, 1-й Ленинский пер., д. 21"